# 開発運用（測定→改善の回し方）

## 原則
- 先に実測し、数字（特にp95/p99）で判断する
- 平均ではなくテールレイテンシとジッタをKPIにする

## Phase 1 の進め方
1. ベンチを回してベースライン取得
2. 誤検知（FP）を潰す（特徴量・閾値・ゲート条件）
3. レイテンシの分解を進める（I/O・前処理・判定・停止）
4. 必要ならホットパスをネイティブ化

## 誤検知（FP）チューニングの扱い
- Phase 1 では「ベンチで止められる」ことと「遅延の実測」を優先し、ReflexはDSP-firstで暫定実装に留める。
- Phase 1 のReflex（割り込み検知）は、**将来、軽量SNN（SpikingJelly）によるReflex Circuitへ置き換える前提** とする。
- **本格的な誤検知チューニング（咳払い/打音などの抑制）は、ReflexをSNN実装に置き換えるタイミングで集中的に実施する。**
	- 理由: SNN化で特徴量・閾値・状態表現が変わり、DSP段階で詰めても作業が重複しやすい。

## ログの扱い
- まずは stopイベント単位で十分（JSONL）
- 追加したい場合: フレームごとのサンプルも別ファイルで出す（容量が増えるので注意）
